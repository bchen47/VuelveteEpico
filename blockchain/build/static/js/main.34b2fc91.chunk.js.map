{"version":3,"sources":["img sync /^/.//.*$","img/card1.jpg","img/card2.jpg","img/card3.jpg","img/card4.jpg","components/counter.jsx","eth/context.js","components/counters.jsx","eth/forwarder.js","BlockChainCalls.js","eth/provider.js","eth/registry.js","App.js","index.js","signer.js","img/logo.png"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","Counter","getBadgeClasses","formatCount","value","props","counter","className","class","src","require","this","img","alt","title","style","fontSize","onClick","onIncrement","Component","EthereumContext","createContext","Counters","counters","onDelete","onDecrement","undefined","key","abi","createInstance","provider","ethers","Contract","address","i","sendMetaTx","contract","signer","name","imgUrl","console","log","url","process","forwarder","getAddress","from","data","interface","encodeFunctionData","to","signMetaTxRequest","request","fetch","method","body","JSON","stringify","headers","registerProduct","window","ethereum","enable","userProvider","providers","Web3Provider","getNetwork","chainId","getSigner","QUICKNODE_ENDPOINT","REACT_APP_QUICKNODE_URL","App","sendTx","registry","response","state","handleIncrement","index","indexOf","setState","handleDecrement","handleReset","c","handleDelete","counterId","filter","handleRestart","location","reload","initDB","forEach","x","JsonRpcProvider","ethereumContext","getProduct","then","json","err","href","Provider","ReactDOM","render","document","getElementById","ethSigUtil","EIP712Domain","type","ForwardRequest","getMetaTxTypeData","verifyingContract","types","domain","version","primaryType","signTypedData","privateKey","Buffer","replace","signTypedMessage","isHardhat","argData","send","buildRequest","input","getNonce","nonce","toString","gas","buildTypedData","n","typeData","message","toSign","signature"],"mappings":";iKAAA,IAAIA,EAAM,CACT,cAAe,IACf,cAAe,IACf,cAAe,IACf,cAAe,IACf,aAAc,IAIf,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBS,EAAOC,QAAUb,EACjBA,EAAeE,GAAK,K,oBC1BpBU,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,2XC6C5BC,EA3CF,iKAwCT,OAxCS,oCAgCXC,gBAAkB,WAEhB,MADc,aAEd,EAEFC,YAAc,WACZ,IAAQC,EAAU,EAAKC,MAAMC,QAArBF,MACR,OAAiB,IAAVA,EAAc,OAASA,GAC/B,EAVA,OAUA,mCAtCD,WAAU,IAAD,OACP,OACE,yBAAKG,UAAU,wCACb,yBAAKC,MAAM,QACX,yBAAKA,MAAM,eAAeC,IAAKC,OAAQ,KAAUC,KAAKN,MAAMC,QAAQM,KAAOC,IAAI,KAC/E,yBAAKL,MAAM,gCACP,wBAAIA,MAAM,iBAAiBG,KAAKN,MAAMC,QAAQQ,OAC9C,uBAAGN,MAAM,qBAAmB,kCAC5B,yBAAKD,UAAU,YACjB,yBAAKA,UAAU,gBACb,0BAAMQ,MAAO,CAAEC,SAAU,IAAMT,UAAWI,KAAKT,mBAC5CS,KAAKR,gBAGV,yBAAKI,UAAU,gBACb,4BACEA,UAAU,oBACVU,QAAS,kBAAM,EAAKZ,MAAMa,YAAY,EAAKb,MAAMC,WAAS,kBAWrE,EA9BU,CAASa,aCATC,EAAkBC,wBAAc,ICqC9BC,MA5Bf,SAAkBjB,GAChB,IAAOkB,EACPlB,EADOkB,SAAUL,EACjBb,EADiBa,YAAaM,EAC9BnB,EAD8BmB,SAAUC,EACxCpB,EADwCoB,YAKxC,OAAO,yBAAKlB,UAAU,YACpB,+DACcmB,IAAbH,GACC,2CAEAA,GACI,yBAAKhB,UAAU,OACdgB,EAASrC,KAAI,SAACoB,GAAO,OACpB,kBAAC,EAAO,CACNqB,IAAKrB,EAAQjB,GACbiB,QAASA,EACTY,YAAaA,EACbO,YAAaA,EACbD,SAAUA,U,gBC5BlBI,EAAM,CAAC,CAAC,OAAS,GAAG,gBAAkB,aAAa,KAAO,eAAe,CAAC,OAAS,CAAC,CAAC,WAAa,CAAC,CAAC,aAAe,UAAU,KAAO,OAAO,KAAO,WAAW,CAAC,aAAe,UAAU,KAAO,KAAK,KAAO,WAAW,CAAC,aAAe,UAAU,KAAO,QAAQ,KAAO,WAAW,CAAC,aAAe,UAAU,KAAO,MAAM,KAAO,WAAW,CAAC,aAAe,UAAU,KAAO,QAAQ,KAAO,WAAW,CAAC,aAAe,QAAQ,KAAO,OAAO,KAAO,UAAU,aAAe,yCAAyC,KAAO,MAAM,KAAO,SAAS,CAAC,aAAe,QAAQ,KAAO,YAAY,KAAO,UAAU,KAAO,UAAU,QAAU,CAAC,CAAC,aAAe,OAAO,KAAO,GAAG,KAAO,QAAQ,CAAC,aAAe,QAAQ,KAAO,GAAG,KAAO,UAAU,gBAAkB,UAAU,KAAO,YAAY,CAAC,OAAS,CAAC,CAAC,aAAe,UAAU,KAAO,OAAO,KAAO,YAAY,KAAO,WAAW,QAAU,CAAC,CAAC,aAAe,UAAU,KAAO,GAAG,KAAO,YAAY,gBAAkB,OAAO,KAAO,YAAY,CAAC,OAAS,CAAC,CAAC,WAAa,CAAC,CAAC,aAAe,UAAU,KAAO,OAAO,KAAO,WAAW,CAAC,aAAe,UAAU,KAAO,KAAK,KAAO,WAAW,CAAC,aAAe,UAAU,KAAO,QAAQ,KAAO,WAAW,CAAC,aAAe,UAAU,KAAO,MAAM,KAAO,WAAW,CAAC,aAAe,UAAU,KAAO,QAAQ,KAAO,WAAW,CAAC,aAAe,QAAQ,KAAO,OAAO,KAAO,UAAU,aAAe,yCAAyC,KAAO,MAAM,KAAO,SAAS,CAAC,aAAe,QAAQ,KAAO,YAAY,KAAO,UAAU,KAAO,SAAS,QAAU,CAAC,CAAC,aAAe,OAAO,KAAO,GAAG,KAAO,SAAS,gBAAkB,OAAO,KAAO,aAE9iD,SAASC,EAAeC,GAC7B,OAAO,IAAIC,IAAOC,SAASC,IAASL,EAAKE,G,yBCJ3C,kmGAAAI,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,sQAGA,SAKeC,EAAW,EAAD,qDAiBxB,OAjBwB,wBAAzB,WAA0BC,EAAUN,EAAUO,EAAQC,EAAKC,GAAM,iFAEjB,GAD9CC,QAAQC,IAAI,wCAAD,OAAyCH,IAC9CI,EAAMC,gKACH,CAAD,qBAAQ,IAAIjD,MAAM,uBAAuB,KAAD,EAEN,OAApCkD,EAAYf,EAAeC,GAAU,EAAD,OACvBO,EAAOQ,aAAa,KAAD,EAEX,OAFrBC,EAAI,OACJC,EAAOX,EAASY,UAAUC,mBAAmB,cAAe,CAACX,EAAKC,IAClEW,EAAKd,EAASH,QAAQ,EAAD,QAELkB,YAAkBd,EAAOP,SAAUc,EAAW,CAAEM,KAAIJ,OAAMC,SAAQ,KAAD,GAA1E,OAAPK,EAAO,yBAENC,MAAMX,EAAK,CAChBY,OAAQ,OACRC,KAAMC,KAAKC,UAAUL,GACrBM,QAAS,CAAE,eAAgB,uBAC3B,6CACH,sBACM,SAAeC,EAAgB,EAAD,sCAepC,4CAfM,WAA+BvB,EAAUN,EAAUQ,EAAKC,GAAM,4EAC9DD,EAAK,CAAD,qBAAQ,IAAI5C,MAAM,wBAAwB,KAAD,KAC7CkE,OAAOC,SAAS,CAAD,qBAAQ,IAAInE,MAAM,yBAAyB,KAAD,kBAExDkE,OAAOC,SAASC,SAAS,KAAD,EACyC,OAAjEC,EAAe,IAAIhC,IAAOiC,UAAUC,aAAaL,OAAOC,UAAU,EAAD,OAC7CE,EAAaG,aAAa,KAAD,EAAlC,GACW,KADX,OACDC,QAAc,uBAAQ,IAAIzE,MAAM,4CAA4C,KAAD,GAM3F,OALM2C,EAAS0B,EAAaK,YAK5B,kBACQjC,EAAWC,EAAUN,EAAUO,EAAQC,EAAKC,IAAO,6CAC5D,sBA0BA,4CAxBM,WAA0BH,EAAUN,GAAQ,wFAC5C8B,OAAOC,SAAS,CAAD,qBAAQ,IAAInE,MAAM,yBAAyB,KAAD,kBAExDkE,OAAOC,SAASC,SAAS,KAAD,EACyC,OAAjEC,EAAe,IAAIhC,IAAOiC,UAAUC,aAAaL,OAAOC,UAAU,EAAD,OAC7CE,EAAaG,aAAa,KAAD,EAAlC,GACW,KADX,OACDC,QAAc,uBAAQ,IAAIzE,MAAM,4CAA4C,KAAD,GAE3C,GAD1C2C,EAAS0B,EAAaK,YACpB1B,EAAMC,gKACH,CAAD,sBAAQ,IAAIjD,MAAM,uBAAuB,KAAD,GAEN,OAApCkD,EAAYf,EAAeC,GAAU,EAAD,QACvBO,EAAOQ,aAAa,KAAD,GAEX,OAFrBC,EAAI,OACJC,EAAOX,EAASY,UAAUC,mBAAmB,oBAC7CC,EAAKd,EAASH,QAAQ,EAAD,QAELkB,YAAkBd,EAAOP,SAAUc,EAAW,CAAEM,KAAIJ,OAAMC,SAAQ,KAAD,GAA1E,OAAPK,EAAO,yBAENC,MAAMX,EAAK,CAChBY,OAAQ,OACRC,KAAMC,KAAKC,UAAUL,GACrBM,QAAS,CAAE,eAAgB,uBAC3B,6CAEL,sBCjED,IAIMW,EAAqB1B,qTAAY2B,wBCJvC,IAAM1C,EAAM,CACV,oDAEA,CAAC,OAAS,CAAC,CAAC,aAAe,4BAA4B,KAAO,YAAY,KAAO,YACjF,gBAAkB,aAAa,KAAO,eACpC,CAAC,WAAY,EACX,OAAS,CACT,CAAC,SAAU,EAAK,aAAe,UAAU,KAAO,MAAM,KAAO,WAC7D,CAAC,SAAU,EAAM,aAAe,SAAS,KAAO,OAAO,KAAO,UAC9D,CAAC,SAAU,EAAM,aAAe,SAAS,KAAO,SAAS,KAAO,WAChE,KAAO,aAAa,KAAO,SAE/B,CAAC,OAAS,CACR,CAAC,aAAe,UAAU,KAAO,YAAY,KAAO,YACpD,KAAO,qBAAqB,QAAU,CAAC,CAAC,aAAe,OAAO,KAAO,GAAG,KAAO,SAAS,gBAAkB,OAAO,KAAO,YAC1H,CAAC,OAAS,CAAC,CAAC,aAAe,UAAU,KAAO,GAAG,KAAO,YACtD,KAAO,QAAQ,QAAU,CAAC,CAAC,aAAe,SAAS,KAAO,GAAG,KAAO,WACnE,gBAAkB,OAAO,KAAO,YACjC,CAAC,OAAS,CAAC,CAAC,aAAe,SAAS,KAAO,GAAG,KAAO,WAAW,KAAO,SAAS,QAAU,CAAC,CAAC,aAAe,UAAU,KAAO,GAAG,KAAO,YAAY,gBAAkB,OAAO,KAAO,YAClL,CAAC,OAAS,CAAC,CAAC,aAAe,SAAS,KAAO,OAAO,KAAO,UAAU,CAAC,aAAe,SAAS,KAAO,SAAS,KAAO,WAAW,KAAO,cAAc,QAAU,GAAG,gBAAkB,aAAa,KAAO,YACrM,CACC,OAAU,GACV,KAAQ,cACR,QAAW,CACT,CACE,WAAc,CACZ,CACE,aAAgB,SAChB,KAAQ,OACR,KAAQ,UAEV,CACE,aAAgB,UAChB,KAAQ,aACR,KAAQ,WAEV,CACE,aAAgB,UAChB,KAAQ,KACR,KAAQ,WAEV,CACE,aAAgB,SAChB,KAAQ,SACR,KAAQ,WAGZ,aAAgB,8BAChB,KAAQ,GACR,KAAQ,YAGZ,gBAAmB,OACnB,KAAQ,a,aCvDZ,kmGAAAM,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,sQAM6C,IA2G9BqC,EAzGN,iKA6DN,OA7DM,oCAENC,OAAM,uCAAG,WAAOC,EAAS3C,EAASQ,EAAKC,GAAM,gGAGnBoB,EAAgBc,EAAU3C,EAAUQ,EAAKC,GAAQ,KAAD,EAAjEmC,EAAQ,OACdlC,QAAQC,IAAIiC,GAAU,gDAEtBlC,QAAQC,IAAI,EAAD,IAAK,yDAEnB,yDARM,GAQN,EAEDkC,MAAQ,CACNpD,SAAU,CACR,CAAElC,GAAI,EAAGe,MAAO,EAAEQ,IAAI,YAAYE,MAAM,0BACxC,CAAEzB,GAAI,EAAGe,MAAO,EAAEQ,IAAI,YAAYE,MAAM,gCACxC,CAAEzB,GAAI,EAAGe,MAAO,EAAEQ,IAAI,YAAYE,MAAM,qBACxC,CAAEzB,GAAI,EAAGe,MAAO,EAAEQ,IAAI,YAAYE,MAAM,0BACxC,CAAEzB,GAAI,EAAGe,MAAO,EAAEQ,IAAI,YAAYE,MAAM,0BACxC,CAAEzB,GAAI,EAAGe,MAAO,EAAEQ,IAAI,YAAYE,MAAM,4BAG1C,EAGF8D,gBAAkB,SAACtE,GACjB,IAAMiB,EAAQ,YAAO,EAAKoD,MAAMpD,UAC1BsD,EAAQtD,EAASuD,QAAQxE,GAC/BiB,EAASsD,GAAM,eAAQtD,EAASsD,IAChCtD,EAASsD,GAAOzE,QAChB,EAAK2E,SAAS,CAAExD,cAChB,EAEFyD,gBAAkB,SAAC1E,GACjB,IAAMiB,EAAQ,YAAO,EAAKoD,MAAMpD,UAC1BsD,EAAQtD,EAASuD,QAAQxE,GAC/BiB,EAASsD,GAAM,eAAQtD,EAASsD,IAChCtD,EAASsD,GAAOzE,QAChB,EAAK2E,SAAS,CAAExD,cAChB,EAEF0D,YAAc,WACZ,IAAM1D,EAAW,EAAKoD,MAAMpD,SAASrC,KAAI,SAACgG,GAExC,OADAA,EAAE9E,MAAQ,EACH8E,KAET,EAAKH,SAAS,CAAExD,cAChB,EAEF4D,aAAe,SAACC,GACd,IAAM7D,EAAW,EAAKoD,MAAMpD,SAAS8D,QAAO,SAACH,GAAC,OAAKA,EAAE7F,KAAO+F,KAC5D,EAAKL,SAAS,CAAExD,cAChB,EAEF+D,cAAgB,WACd1B,OAAO2B,SAASC,UAChB,EACFC,OAAO,SAAChB,EAAS3C,GACf,EAAK6C,MAAMpD,SAASmE,SAAQ,SAACC,GAC3B,EAAKnB,OAAOC,EAAS3C,EAAS6D,EAAE7E,MAAM6E,EAAE/E,SAE3C,EAyCA,OAzCA,8CAtCD,cACC,oBAuCD,WACE,IAAMkB,EF/DD,IAAIC,IAAOiC,UAAU4B,gBAAgBvB,GANxB,iDAM4D,IEiExEI,EDfH,SAAwB3C,GAC7B,OAAO,IAAIC,IAAOC,SAASC,IAASL,EAAKE,GCctBD,CAAeC,GAChCnB,KAAK8E,OAAOhB,EAAS3C,GACrB,IAAM+D,EAAkB,CAAE/D,WAAU2C,YACpC,KHlCG,SAA0B,EAAD,mCGmC1BqB,CAAWrB,EAAU3C,GAAUiE,MAAK,SAACJ,GACnCnD,QAAQC,IAAIkD,GACVA,EAAEK,UACDD,MAAK,SAAShD,GAEfP,QAAQC,IAAIM,MAGhB,MAAMkD,GACNzD,QAAQC,IAAIwD,GAEd,OACM,6BACM,yBAAK1F,UAAU,8BACb,uBAAGA,UAAU,eAAe2F,KAAK,KAC/B,yBAAK3F,UAAU,OAAOE,IAAKC,EAAQ,IAAmBG,IAAI,WAG9D,yBAAKN,UAAU,kBACb,kBAACa,EAAgB+E,SAAQ,CAAC/F,MAAOyF,GAC7B,kBAAC,EAAQ,CACPtE,SAAUZ,KAAKgE,MAAMpD,SACrBL,YAAaP,KAAKiE,gBAClBnD,YAAad,KAAKqE,gBAClBxD,SAAUb,KAAKwE,sBAQpC,EAtGM,CAAShE,a,cCFlBiF,IAASC,OAAO,kBAAC,EAAG,MAAKC,SAASC,eAAe,U,qQCNjD,06MADA,IAAMC,EAAa9F,EAAQ,KAErB+F,EAAe,CACnB,CAAEnE,KAAM,OAAQoE,KAAM,UACtB,CAAEpE,KAAM,UAAWoE,KAAM,UACzB,CAAEpE,KAAM,UAAWoE,KAAM,WACzB,CAAEpE,KAAM,oBAAqBoE,KAAM,YAG/BC,EAAiB,CACrB,CAAErE,KAAM,OAAQoE,KAAM,WACtB,CAAEpE,KAAM,KAAMoE,KAAM,WACpB,CAAEpE,KAAM,QAASoE,KAAM,WACvB,CAAEpE,KAAM,MAAOoE,KAAM,WACrB,CAAEpE,KAAM,QAASoE,KAAM,WACvB,CAAEpE,KAAM,OAAQoE,KAAM,UAGxB,SAASE,EAAkBzC,EAAS0C,GAClC,MAAO,CACLC,MAAO,CACLL,eACAE,kBAEFI,OAAQ,CACNzE,KAAM,mBACN0E,QAAS,QACT7C,UACA0C,qBAEFI,YAAa,kBAEf,SAEaC,EAAc,EAAD,iDAc3B,OAd2B,wBAA5B,WAA6B7E,EAAQS,EAAMC,GAAI,oFAEtB,kBAAZV,EAAoB,gBACoC,OAA3D8E,EAAaC,EAAOtE,KAAKT,EAAOgF,QAAQ,MAAO,IAAK,OAAM,kBACzDb,EAAWc,iBAAiBH,EAAY,CAAEpE,UAAO,OAMpC,OADhBwE,EAAoC,QAAxBxE,EAAKgE,OAAO5C,QAAkB,EACtBoD,EACtB,CAAC,oBAAqBxE,GACtB,CAAC,uBAAwBS,KAAKC,UAAUV,IAAM,mBAF3CO,EAAM,KAAEkE,EAAO,cAGTnF,EAAOoF,KAAKnE,EAAQ,CAACR,EAAM0E,IAAU,KAAD,+EAClD,+BAEcE,EAAa,EAAD,+CAI1B,OAJ0B,wBAA3B,WAA4B9E,EAAW+E,GAAK,uEACxB,OAAlBnF,QAAQC,IAAIkF,GAAM,SACE/E,EAAUgF,SAASD,EAAM7E,MAAMiD,MAAK,SAAA8B,GAAK,OAAIA,EAAMC,cAAY,KAAD,EAAvE,OAALD,EAAK,sCACFzH,MAAO,EAAG2H,IAAK,IAAKF,SAAUF,IAAK,4CAC7C,+BAEcK,EAAe,EAAD,+CAI5B,OAJ4B,wBAA7B,WAA8BpF,EAAWQ,GAAO,yFACxBR,EAAUd,SAASoC,aAAa6B,MAAK,SAAAkC,GAAC,OAAIA,EAAE9D,WAAS,KAAD,EACX,OADzDA,EAAO,OACP+D,EAAWtB,EAAkBzC,EAASvB,EAAUX,SAAQ,6CAClDiG,GAAQ,IAAEC,QAAS/E,KAAO,4CACvC,sBAEM,SAAeD,EAAkB,EAAD,oCAQtC,4CARM,WAAiCd,EAAQO,EAAW+E,GAAK,2FAExCD,EAAa9E,EAAW+E,GAAO,KAAD,EAAvC,OAAPvE,EAAO,gBAEQ4E,EAAepF,EAAWQ,GAAS,KAAD,EAA3C,OAANgF,EAAM,gBAEYlB,EAAc7E,EAAQsF,EAAM7E,KAAMsF,GAAQ,KAAD,EAAlD,OAATC,EAAS,yBACR,CAAEA,YAAWjF,YAAS,6CAC9B,yB,2CCtEDrD,EAAOC,QAAU,IAA0B,mC","file":"static/js/main.34b2fc91.chunk.js","sourcesContent":["var map = {\n\t\"./card1.jpg\": 124,\n\t\"./card2.jpg\": 125,\n\t\"./card3.jpg\": 126,\n\t\"./card4.jpg\": 127,\n\t\"./logo.png\": 69\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 123;","module.exports = __webpack_public_path__ + \"static/media/card1.46363f4e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/card2.99aa0a90.jpg\";","module.exports = __webpack_public_path__ + \"static/media/card3.848ab99e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/card4.5e28354e.jpg\";","import React, { Component } from \"react\";\n\nclass Counter extends Component {\n  const \n  render() {\n    return (\n      <div className=\"col-xs-6 col-sm-4 col-md-3 row-items\">\n        <div class=\"card\">\n        <img class=\"card-img-top\" src={require('../img/'+this.props.counter.img)}  alt=\"\"/>\n        <div class=\"card-body d-flex flex-column\">\n            <h2 class=\"product-brand\">{this.props.counter.title}</h2> \n            <p class=\"product-short-des\">a short line about the cloth..</p>\n            <div className=\"mt-auto \">\n          <div className=\"row row-item\">\n            <span style={{ fontSize: 24 }} className={this.getBadgeClasses()}>\n              {this.formatCount()}\n            </span>\n          </div>\n          <div className=\"row row-item\">\n            <button\n              className=\"btn btn-secondary\"\n              onClick={() => this.props.onIncrement(this.props.counter)}\n            >\n              Votar\n            </button>\n          </div>\n          </div>\n        </div>\n        </div>\n\n      </div>\n    );\n  }\n\n  getBadgeClasses = () => {\n    let classes = \"badge m-2\";\n    return classes;\n  };\n\n  formatCount = () => {\n    const { value } = this.props.counter;\n    return value === 0 ? \"Zero\" : value;\n  };\n}\n\nexport default Counter;\n","import { createContext } from 'react';\n\nexport const EthereumContext = createContext({ });\n","import React, { Component } from \"react\";\nimport Counter from \"./counter\";\nimport { EthereumContext } from \"../eth/context\";\n\nconst mapEvent = (event) => ({\n  blockNumber: event.blockNumber,\n  who: event.args.who,\n  name: event.args.name,\n  id: `${event.blockHash}/${event.transactionIndex}/${event.logIndex}`,\n})\n\nfunction Counters(props) {\n  const {counters, onIncrement, onDelete, onDecrement } =\n  props;\n\n\n\n  return <div className=\"counters\">\n    <h3>Last counters 📝</h3>\n    {counters === undefined && (\n      <span>Loading..</span>\n    )}\n    { counters && (\n          <div className=\"row\">\n          {counters.map((counter) => (\n            <Counter\n              key={counter.id}\n              counter={counter}\n              onIncrement={onIncrement}\n              onDecrement={onDecrement}\n              onDelete={onDelete}\n            />\n          ))}\n        </div>\n    )}\n  </div>\n}\n\n\nexport default Counters;\n","import { ethers } from 'ethers';\nimport { MinimalForwarder as address } from '../deploy.json';\nconst abi = [{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"gas\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"internalType\":\"struct MinimalForwarder.ForwardRequest\",\"name\":\"req\",\"type\":\"tuple\"},{\"internalType\":\"bytes\",\"name\":\"signature\",\"type\":\"bytes\"}],\"name\":\"execute\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"}],\"name\":\"getNonce\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"gas\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"internalType\":\"struct MinimalForwarder.ForwardRequest\",\"name\":\"req\",\"type\":\"tuple\"},{\"internalType\":\"bytes\",\"name\":\"signature\",\"type\":\"bytes\"}],\"name\":\"verify\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}];\n\nexport function createInstance(provider) {\n  return new ethers.Contract(address, abi, provider);\n}\n","import { ethers } from 'ethers';\nimport { createInstance } from './eth/forwarder';\nimport { signMetaTxRequest } from './signer';\n\n/*async function sendTx(contract, name,imgUrl) {\n  console.log(`Sending register tx to set name=${name}`);\n  return contract.add_product(name,imgUrl);\n}*/\n\nasync function sendMetaTx(contract, provider, signer, name,imgUrl) {\n  console.log(`Sending register meta-tx to set name=${name}`);\n  const url = process.env.REACT_APP_WEBHOOK_URL;\n  if (!url) throw new Error(`Missing relayer url`);\n\n  const forwarder = createInstance(provider);\n  const from = await signer.getAddress();\n  const data = contract.interface.encodeFunctionData('add_product', [name,imgUrl]);\n  const to = contract.address;\n\n  const request = await signMetaTxRequest(signer.provider, forwarder, { to, from, data });\n\n  return fetch(url, {\n    method: 'POST',\n    body: JSON.stringify(request),\n    headers: { 'Content-Type': 'application/json' },\n  });\n}\nexport async function registerProduct(contract, provider, name,imgUrl) {\n  if (!name) throw new Error(`Name cannot be empty`);\n  if (!window.ethereum) throw new Error(`User wallet not found`);\n\n  await window.ethereum.enable();\n  const userProvider = new ethers.providers.Web3Provider(window.ethereum);\n  const userNetwork = await userProvider.getNetwork();\n  if (userNetwork.chainId !== 97) throw new Error(`Please switch to BinanceTest for signing`);\n  const signer = userProvider.getSigner();\n  //const from = await signer.getAddress();\n  //const balance = await provider.getBalance(from);\n  //const canSendTx = balance.gt(1e15);\n  //if (!canSendTx) return sendTx(contract.connect(signer), name,imgUrl);\n  //else\n   return sendMetaTx(contract, provider, signer, name,imgUrl);\n}\n\nexport async function getProduct(contract, provider) {\n  if (!window.ethereum) throw new Error(`User wallet not found`);\n\n  await window.ethereum.enable();\n  const userProvider = new ethers.providers.Web3Provider(window.ethereum);\n  const userNetwork = await userProvider.getNetwork();\n  if (userNetwork.chainId !== 97) throw new Error(`Please switch to BinanceTest for signing`);\n  const signer = userProvider.getSigner();\n    const url = process.env.REACT_APP_WEBHOOK_URL;\n    if (!url) throw new Error(`Missing relayer url`);\n  \n    const forwarder = createInstance(provider);\n    const from = await signer.getAddress();\n    const data = contract.interface.encodeFunctionData('getProductsCount');\n    const to = contract.address;\n  \n    const request = await signMetaTxRequest(signer.provider, forwarder, { to, from, data });\n  \n    return fetch(url, {\n      method: 'post',\n      body: JSON.stringify(request),\n      headers: { 'Content-Type': 'application/json' },\n    });\n  \n}","/* eslint-disable no-unused-vars */\nimport { ethers } from 'ethers';\n\nconst CLOUDFLARE_ENDPOINT = 'https://goerli.prylabs.net';\nconst MAIN_ENDPOINT = 'https://data-seed-prebsc-2-s3.binance.org:8545';\nconst ALTERNATE_ENDPOINT = 'https://rpc.slock.it/goerli';\nconst UNSECURE_ENDPOINT = 'http://goerli.blockscout.com';\nconst QUICKNODE_ENDPOINT = process.env.REACT_APP_QUICKNODE_URL;\n\nexport function createProvider() {  \n  return new ethers.providers.JsonRpcProvider(QUICKNODE_ENDPOINT || MAIN_ENDPOINT,97);\n}","import { ethers } from 'ethers';\nimport { MyContract as address } from '../deploy.json';\n\nconst abi = [\n  \"function getProductsCount() view returns (int256)\",\n\n  {\"inputs\":[{\"internalType\":\"contract MinimalForwarder\",\"name\":\"forwarder\",\"type\":\"address\"}],\n  \"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},\n    {\"anonymous\":false,\n      \"inputs\":[\n      {\"indexed\":true,\"internalType\":\"address\",\"name\":\"who\",\"type\":\"address\"},\n      {\"indexed\":false,\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},\n      {\"indexed\":false,\"internalType\":\"string\",\"name\":\"imgUrl\",\"type\":\"string\"}],\n      \"name\":\"AddProduct\",\"type\":\"event\"\n    },\n  {\"inputs\":[\n    {\"internalType\":\"address\",\"name\":\"forwarder\",\"type\":\"address\"}\n  ],\"name\":\"isTrustedForwarder\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},\n  {\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\n  \"name\":\"names\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}]\n  ,\"stateMutability\":\"view\",\"type\":\"function\"},\n  {\"inputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"name\":\"owners\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},\n  {\"inputs\":[{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"imgUrl\",\"type\":\"string\"}],\"name\":\"add_product\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}\n  ,{\n    \"inputs\": [],\n    \"name\": \"getProducts\",\n    \"outputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"string\",\n            \"name\": \"name\",\n            \"type\": \"string\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"vote_count\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"id\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"string\",\n            \"name\": \"imgUrl\",\n            \"type\": \"string\"\n          }\n        ],\n        \"internalType\": \"struct MyContract.Product[]\",\n        \"name\": \"\",\n        \"type\": \"tuple[]\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }\n];\n\nexport function createInstance(provider) {\n  return new ethers.Contract(address, abi, provider);\n}\n","import React, { Component } from \"react\";\nimport Counters from \"./components/counters\";\nimport {registerProduct }from \"./BlockChainCalls\";\nimport { createProvider } from './eth/provider';\nimport { createInstance } from './eth/registry';\nimport { EthereumContext } from './eth/context';\nimport { useContext, useState, useEffect } from \"react\";\nimport {getProduct }from \"./BlockChainCalls\";\n\nclass App extends Component {\n  \n   sendTx = async (registry,provider,name,imgUrl) => {\n    \n    try {\n      const response = await registerProduct(registry, provider, name,imgUrl);\n      console.log(response);\n    } catch(err) {\n      console.log(err)\n    } \n  }\n  \n  state = {\n    counters: [\n      { id: 1, value: 0,img:\"card1.jpg\",title:\"CAMISETA BASICS BLANCA\"},\n      { id: 2, value: 0,img:\"card2.jpg\",title:\"CAMISETA HERETICS SAN MIGUEL\" },\n      { id: 3, value: 0,img:\"card3.jpg\",title:\"CAMISETA HERETICS\" },\n      { id: 4, value: 0,img:\"card4.jpg\",title:\"SUDADERA BASICS BLANCA\"  },\n      { id: 5, value: 0,img:\"card4.jpg\",title:\"SUDADERA BASICS BLANCA\"  },\n      { id: 6, value: 0,img:\"card4.jpg\",title:\"SUDADERA BASICS BLANCA\"  },\n\n    ],\n  };\n  componentDidMount() {\n  }\n  handleIncrement = (counter) => {\n    const counters = [...this.state.counters];\n    const index = counters.indexOf(counter);\n    counters[index] = { ...counters[index] };\n    counters[index].value++;\n    this.setState({ counters });\n  };\n\n  handleDecrement = (counter) => {\n    const counters = [...this.state.counters];\n    const index = counters.indexOf(counter);\n    counters[index] = { ...counters[index] };\n    counters[index].value--;\n    this.setState({ counters });\n  };\n\n  handleReset = () => {\n    const counters = this.state.counters.map((c) => {\n      c.value = 0;\n      return c;\n    });\n    this.setState({ counters });\n  };\n\n  handleDelete = (counterId) => {\n    const counters = this.state.counters.filter((c) => c.id !== counterId);\n    this.setState({ counters });\n  };\n\n  handleRestart = () => {\n    window.location.reload();\n  };\n  initDB=(registry,provider)=>{\n    this.state.counters.forEach((x)=>{\n      this.sendTx(registry,provider,x.title,x.img)\n    })\n  }\n\n  render() {\n    const provider = createProvider();\n\n    const registry = createInstance(provider);\n    this.initDB(registry,provider);\n    const ethereumContext = { provider, registry };\n    try {\n      getProduct(registry, provider).then((x)=>{\n        console.log(x);\n          x.json();\n        }).then(function(data) {\n          // `data` is the parsed version of the JSON returned from the above endpoint.\n          console.log(data);  // { \"userId\": 1, \"id\": 1, \"title\": \"...\", \"body\": \"...\" }\n        })\n      ;\n    } catch(err) {\n      console.log(err)\n    } \n    return (\n          <div >\n                <nav className=\"navbar navbar-dark bg-dark\">\n                  <a className=\"navbar-brand\" href=\"/\">\n                    <img className=\"logo\" src={require(\"./img/logo.png\")} alt=\"logo\" />\n                  </a>\n                </nav>\n                <div className=\"container main\">\n                  <EthereumContext.Provider value={ethereumContext}>\n                      <Counters\n                        counters={this.state.counters}\n                        onIncrement={this.handleIncrement}\n                        onDecrement={this.handleDecrement}\n                        onDelete={this.handleDelete}\n                      />\n                  </EthereumContext.Provider>\n\n                </div>\n          </div>\n\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"font-awesome/css/font-awesome.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","const ethSigUtil = require('eth-sig-util');\n\nconst EIP712Domain = [\n  { name: 'name', type: 'string' },\n  { name: 'version', type: 'string' },\n  { name: 'chainId', type: 'uint256' },\n  { name: 'verifyingContract', type: 'address' }\n];\n\nconst ForwardRequest = [\n  { name: 'from', type: 'address' },\n  { name: 'to', type: 'address' },\n  { name: 'value', type: 'uint256' },\n  { name: 'gas', type: 'uint256' },\n  { name: 'nonce', type: 'uint256' },\n  { name: 'data', type: 'bytes' },\n];\n\nfunction getMetaTxTypeData(chainId, verifyingContract) {\n  return {\n    types: {\n      EIP712Domain,\n      ForwardRequest,\n    },\n    domain: {\n      name: 'MinimalForwarder',\n      version: '0.0.1',\n      chainId,\n      verifyingContract,\n    },\n    primaryType: 'ForwardRequest',\n  }\n};\n\nasync function signTypedData(signer, from, data) {\n  // If signer is a private key, use it to sign\n  if (typeof(signer) === 'string') {\n    const privateKey = Buffer.from(signer.replace(/^0x/, ''), 'hex');\n    return ethSigUtil.signTypedMessage(privateKey, { data });\n  }\n\n  // Otherwise, send the signTypedData RPC call\n  // Note that hardhatvm and metamask require different EIP712 input\n  const isHardhat = data.domain.chainId === 31337;\n  const [method, argData] = isHardhat\n    ? ['eth_signTypedData', data]\n    : ['eth_signTypedData_v4', JSON.stringify(data)]\n  return await signer.send(method, [from, argData]);\n}\n\nasync function buildRequest(forwarder, input) {\n  console.log(input)\n  const nonce = await forwarder.getNonce(input.from).then(nonce => nonce.toString());\n  return { value: 0, gas: 1e6, nonce, ...input };\n}\n\nasync function buildTypedData(forwarder, request) {\n  const chainId = await forwarder.provider.getNetwork().then(n => n.chainId);\n  const typeData = getMetaTxTypeData(chainId, forwarder.address);\n  return { ...typeData, message: request };\n}\n\nexport async function signMetaTxRequest(signer, forwarder, input) {\n\n  const request = await buildRequest(forwarder, input);\n\n  const toSign = await buildTypedData(forwarder, request);\n\n  const signature = await signTypedData(signer, input.from, toSign);\n  return { signature, request };\n}\n\n","module.exports = __webpack_public_path__ + \"static/media/logo.3a3ce651.png\";"],"sourceRoot":""}